name: main
on:
  push:
    branches:
      - main
jobs:
  preview:
    name: Preview
    runs-on: ubuntu-latest
    steps:
      - name: Checkout 🛎️
        uses: actions/checkout@v4

      - name: Setup Python 🐍
        uses: actions/setup-python@v5
        with:
          python-version: 3.13

      - name: Install Poetry
        uses: snok/install-poetry@v1

#      - name: Connect to VPN
#        uses: "kota65535/github-openvpn-connect-action@v3"
#        with:
#          config_file: .github/workflows/gh-conf.ovpn
#          username: ${{ secrets.OVPN_USERNAME }}
#          password: ${{ secrets.OVPN_PASSWORD }}

#      - name: Preview infrastructure 🚀
#        uses: pulumi/actions@v6
#        with:
#          command: preview
#          stack-name: main
#        env:
#          PULUMI_ACCESS_TOKEN: ${{ secrets.PULUMI_ACCESS_TOKEN }}
